/*
 ============================================================================
 Name        : Merge_Sort_wo_recursion.c
 Author      : Sin
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>

void MergeSort(int a[], unsigned int n);

int main(int argc, char * argv[]) {
	unsigned int input_size = 0;

	if (argc < 2) {
		puts("Too few arguments.\n");
		return EXIT_FAILURE;
	}

	printf("argc = %d.\n", argc);
	for(unsigned int i = 1; i < argc; i++) {
		input_size++;
	}

	printf("input size: %d.\n", input_size);

	int array[input_size];
	for(unsigned int i = 0; i < input_size; i++) {
		array[i] = atoi(argv[1+i]);
	}

	printf("Array contents: \n");
	for(unsigned int i = 0; i < input_size; i++) {
		printf("%d, ", array[i]);
	}
	printf("\n");
	printf("sorting...\n");

	MergeSort(array, input_size);

	printf("Array contents: \n");
	for(unsigned int i = 0; i < input_size; i++) {
		printf("%d, ", array[i]);
	}
	printf("\n");

	return EXIT_SUCCESS;
}

void MergeSort(int a[], unsigned int n) {

	unsigned int length = 1;
	while (length < n) {


		for(unsigned int i = 0; i < n; i++) {
			printf("%d, ", a[i]);
		}
		printf("\n\n");

		length = 2 * length;
	}

}
